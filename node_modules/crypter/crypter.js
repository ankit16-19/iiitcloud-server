var crypto = require("crypto");

function encrypt(secret, readStream, writeStream) {
  var cipher = crypto.createCipher("aes256", secret);
  (readStream || process.stdin).pipe(cipher).pipe(writeStream || process.stdout);
}

function decrypt(secret, readStream, writeStream) {
  var decipher = crypto.createDecipher("aes256", secret);
  (readStream || process.stdin).pipe(decipher).pipe(writeStream || process.stdout);
}

module.exports.encrypt = encrypt;
module.exports.decrypt = decrypt;
